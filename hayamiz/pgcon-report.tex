% -*- coding: utf-8 -*-


\chapter{PostgreSQL Conference 2012 レポート}

\begin{flushright}
 はやみず
\end{flushright}

2012年3月24日に日本PostgreSQLユーザ会主催で開催されたPostgreSQLカンファレンス2012に参加してきました。 各講演の立ち入ったレポートに関しては方々のブログで紹介されることを期待して、ここでは主に会議の全体感に関してレポートしたいと思います。

このカンファレンスはオフィシャルサイトにあるように技術的な話題を中心として、PostgreSQLに関する導入事例や技術的な話題を提供するためのカンファレンスです。 昨年度の参加者約180名に対して今年度は275名(関係者含む)ということで、日本におけるPostgreSQLのユーザ層の広がりを感じさせます。 特にこの数年はビジネスとしてこのカンファレンスに参加する方も増えているそうで、業務用途としてのPostgreSQLの利用が広まっていることを示しているのではないかと思われます。

Linuxの急速な普及をきっかけとして、今やオープンソースソフトウェアを業務において利用することは全く珍しくなくなっています。 PostgreSQLもその例に漏れず、といったところでしょうか。本年度のカンファレンスのプログラムも、業務用途におけるPostgreSQLの利用ということが一つの大きな軸として捉えられているように見えます。 例えば、午後のプログラムは3トラック構成となっていたのですが、そのうちの1トラックは「マイグレーショントラック」と題して他のDBMSからPostgreSQLへ移行することを主眼としたものであり、「商用 DB から PostgreSQL への移行」「PostgreSQL がより使いやすく進化した Postgres Plus Advanced Server の実力とは」などは明らかに商用DBを意識しています。また、技術トラックやLightning Talkにおいて高可用・高性能なPostgreSQLクラスタに関する発表がありました。業務用DBMSとしてはクラスタソリューションがほしい。MySQLにはMySQL Clusterが、OracleにはOracle RACが、じゃあPostgreSQLはどうなの？というポイントに答えを出すのが、今回のカンファレンスの一つの見所だったのではないでしょうか。

もちろん、ビジネス的な側面だけではなく、技術の深い話もできるのがこのカンファレンスの魅力だと思います。午前中の基調講演では、PostgreSQLの大型移行案件の事例紹介であるフランス社会保障機構の講演に加えて、PostgreSQLのコア開発者でありコミュニティの中でも若手のエースと目されているEnterpriseDB社のRobert Haas氏によるPostgreSQL 9.2の新機能に関する講演がありました。こちらの講演では、メニーコア環境におけるスケーラビリティ向上の取り組みや、Index-only Scanの導入、消費電力削減のための実装努力、レプリケーションの新機能、その他細々とした新機能などが紹介されました。加えて、バージョン9.2より後にどんな技術的な課題に取り組んでいくべきか、といった方向性についても触れられていました。質疑応答も非常に活発に行われていたのが印象的です。一つ残念だったのは、こちらの講演は発表・質疑応答ともに逐次翻訳が行われていたため、実際に話せる時間が半分になってしまっていたことです。英語のみで進行してくれたほうが個人的には中身がもっと詰まって面白かったのではないかと思いますが、難しいところですね。

もう1件技術的な講演として面白かったのは藤井雅雄氏、松尾隆利氏による「PostgreSQL 9.1 同期レプリケーションと Pacemaker による高可用クラスタ化の紹介」です。 こちらの発表では、まず藤井氏からPostgreSQLにおけるレプリケーションの詳細について紹介されていました。非同期レプリケーション、同期レプリケーションの動作や、何ができるのか、何ができないのかについて丁寧にまとめられており、レプリケーション機能の全体像を理解できる発表でした。またそれに加えて、9.2で導入される予定のレプリケーション関連の機能紹介や、周辺ツールに関する紹介もありました。 その後、松尾氏により同期レプリケーション機能とPacemakerを組み合わせることによる、障害発生時にもフェイルオーバ可能なクラスタ構成法についての発表が行われました。Pacemakerについては名前くらいしか知らなかったのですが、障害発生からフェールオーバまでの流れがわかりやすく図解されており、Pacemakerを知るという観点からも有用な発表であったように思います。

本会議のほうについてはこんなところで、懇親会にも参加したのでの話をひとつ。PostgreSQLのお役立ち情報源として参照している人も多いかと思われるLet’s Postgresという読み物サイトがあるのですが、こちらの運営をしている方とお話をさせて頂きました。 この手の読み物サイトでは、最も需要の高い入門系記事や、企業の提灯記事が並ぶというのがよくあるパターンなのですが、Let’s PostgresにはPostgreSQLの内部構造についてやたら詳しく書かれた記事がたくさんあり、これは一体どういったことだろうと思っていたのでした。 そのことを聞いてみたところ、内部構造の多くは記事PostgreSQL本体にコミットしている開発者の方々が好きで寄稿しているということだそうです。PostgreSQL自体が内部構造まで含めた子細なドキュメントが充実していますが、新機能の実装詳解がこれほどまで精力的に行われているソフトウェアはなかなかないのではないかとおもいます。これらの記事は目的別ガイド：内部解析編としてまとめられています。内部の詳解に加えて、開発プロセスへの参加方法についても紹介されており、非常に充実した内容となっています。PostgreSQLの中身に興味がある人は必見ですね。

以上、簡単ではありますが参加レポートでした。

TODO: もっと書く
